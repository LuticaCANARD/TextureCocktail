# 빠른 2D 텍스처 변환 및 이미지 변환 가이드

Texture Cocktail에 고속 이미지 처리 및 특징 추출 기능이 추가되었습니다. Unity 내에서 직관적인 실시간 텍스처 편집이 가능합니다.

## 주요 기능

### 1. 고속 이미지 변환기 (Fast Image Converter)
실시간 미리보기와 빠른 프리셋을 제공하는 셰이더 기반 이미지 변환기입니다.

**셰이더:** `Hidden/FastImageConverter`

**기능:**
- **빠른 프리셋:** 일반적인 작업을 위한 원클릭 조정
  - 리셋: 기본값으로 복원
  - 밝게: 밝기와 채도 증가
  - 어둡게: 밝기 감소 및 대비 향상
  - 높은 대비: 대비와 채도 증가
  - 채도 제거: 그레이스케일로 변환
  - 선명하게: 색상 강화 및 감마 감소

- **조절 가능한 매개변수:**
  - 밝기 (-1 ~ 1)
  - 대비 (0 ~ 3)
  - 채도 (0 ~ 2)
  - 감마 (0.1 ~ 3)
  - 블러 양 (0 ~ 1)
  - 샤프닝 양 (0 ~ 2)
  - 노이즈 양 (0 ~ 1)
  - 비네트 강도 (0 ~ 1)

- **필터 모드:**
  - 없음: 기본 조정만
  - 엣지 검출: Sobel 연산자 엣지 검출
  - 블러: 박스 블러 필터
  - 샤프닝: 엣지 향상 필터

**사용 방법:**
1. TextureCocktail 창 열기 (Alt+T)
2. `Hidden/FastImageConverter` 셰이더 선택
3. 대상 텍스처 선택
4. 빠른 프리셋 선택 또는 수동으로 매개변수 조정
5. 실시간으로 미리보기
6. 결과 저장

### 2. 특징 추출기 (Feature Extractor)
다양한 분석 모드를 제공하는 고급 특징 추출 도구입니다.

**셰이더:** `Hidden/FeatureExtractor`

**추출 모드:**
- **엣지 검출 (Sobel):** 빠른 그레이디언트 기반 엣지 검출
- **Canny 엣지:** 가우시안 블러를 사용한 고급 엣지 검출
- **색상 분할:** 분석을 위한 색상 양자화
- **히스토그램 향상:** 히스토그램 평활화를 통한 대비 개선

**기능:**
- 분석 채널 선택 (RGB, 빨강, 녹색, 파랑, 휘도)
- 히스토그램 시각화
- 실시간 특징 추출 미리보기
- 조정 가능한 민감도 및 임계값

**사용 방법:**
1. TextureCocktail 창 열기 (Alt+T)
2. `Hidden/FeatureExtractor` 셰이더 선택
3. 대상 텍스처 선택
4. 추출 모드 선택
5. 필요에 따라 설정 조정
6. 히스토그램 보기 (히스토그램 향상 모드용)
7. 추출된 특징 저장

### 3. 일괄 텍스처 프로세서 (Batch Texture Processor)
동일한 셰이더 설정으로 여러 텍스처를 처리합니다.

**기능:**
- 처리 대기열에 여러 텍스처 추가
- 모든 텍스처에 동일한 셰이더 및 설정 적용
- 사용자 정의 출력 경로
- 진행 상황 추적
- 자동 파일 이름 지정

**사용 방법:**
1. 일괄 프로세서 열기 (Alt+B 또는 LuticaLab/TextureCocktail Batch Processor)
2. 적용할 셰이더 선택
3. 공통 매개변수 조정
4. 처리할 텍스처 추가
5. 출력 경로 설정
6. "모든 텍스처 처리" 클릭

### 4. 빠른 액세스 도구 모음 (Quick Access Toolbar)
일반적인 작업에 즉시 액세스할 수 있는 플로팅 도구 모음입니다.

**기능:**
- 원클릭 작업: 밝게, 어둡게, 높은 대비, 채도 제거, 선명하게, 블러, 샤프닝, 엣지 검출
- 자동 작업 구성
- TextureCocktail 메인 창 직접 액세스
- 일괄 프로세서 실행기

**사용 방법:**
1. 빠른 액세스 도구 모음 열기 (LuticaLab/Quick Access Toolbar)
2. 텍스처 선택 또는 드래그
3. 작업 버튼 클릭
4. 저장 위치 선택
5. 완료!

### 5. 키보드 단축키

**전역 단축키:**
- `Alt+T`: TextureCocktail 메인 창 열기
- `Alt+B`: 일괄 프로세서 열기

**컨텍스트 메뉴 (프로젝트 창에서 텍스처 우클릭):**
- TextureCocktail/Open with TextureCocktail
- TextureCocktail/Quick Convert with Fast Converter
- TextureCocktail/Quick Edge Detection

**Material 컨텍스트 메뉴:**
- Copy Texture Shader Settings
- Paste Texture Shader Settings

## 사용 예제

### 예제 1: 빠르게 밝게 만들기
1. 프로젝트 창에서 텍스처 선택
2. 우클릭 → TextureCocktail → Quick Convert with Fast Converter
3. 이미지가 자동으로 밝아지고 저장됨

### 예제 2: 엣지 추출
1. TextureCocktail 열기 (Alt+T)
2. FeatureExtractor 셰이더 선택
3. 텍스처 선택
4. "엣지 검출" 모드 선택
5. 민감도 조정
6. 결과 저장

### 예제 3: 일괄 처리
1. 일괄 프로세서 열기 (Alt+B)
2. FastImageConverter 셰이더 선택
3. 밝기를 0.2, 대비를 1.2로 설정
4. 여러 텍스처 추가
5. 한 번에 모두 처리

## 성능 고려사항

- 모든 작업은 Unity 셰이더를 사용하여 GPU 가속됨
- 실시간 미리보기는 효율적인 렌더링을 위해 RenderTexture 사용
- 일괄 처리는 메모리 문제를 방지하기 위해 순차적으로 텍스처 처리
- 히스토그램 계산은 필요에 따라 수행됨

## 기술적 세부사항

### 셰이더 구현
모든 셰이더는 HLSL을 사용하여 구현되었으며 실시간 성능을 위해 GPU 가속됩니다.

**FastImageConverter 셰이더:**
- 필터 모드용 멀티 컴파일 지시문
- 엣지 검출을 위한 Sobel 연산자
- 박스 블러 컨볼루션 필터
- 샤프닝을 위한 언샤프 마스크
- 픽셀별 색상 조정

**FeatureExtractor 셰이더:**
- 다양한 추출 모드용 여러 렌더 패스
- Sobel 및 Canny 엣지 검출 알고리즘
- 색상 양자화
- 히스토그램 평활화

## 향후 개선 사항

- 추가 필터 모드 (중간값 필터, 양방향 필터)
- 고급 히스토그램 분석 (RGB 채널, 백분위수)
- 사용자 정의 프리셋 저장 및 로드
- 실행 취소/다시 실행 지원
- Unity의 실행 취소 시스템과 통합
- 더 빠른 처리를 위한 GPU 컴퓨트 셰이더 구현
- 머신러닝 기반 특징 추출

## 이미지 뷰어 창

### 개요
미리보기 이미지를 클릭하면 전용 뷰어 창에서 상세하게 확인할 수 있습니다.

### 기능
- **클릭하여 보기**: 미리보기 이미지를 클릭하면 전체 크기 뷰어가 열립니다
- **창에 맞춤**: 이미지를 창 크기에 자동으로 맞춥니다
- **확대/축소 컨트롤**: 슬라이더와 +/- 버튼으로 10%~400% 확대
- **이동 및 탐색**: 스크롤하고 드래그하여 큰 이미지를 탐색합니다
- **빠른 액세스**: 대상 텍스처 필드 옆의 "보기" 버튼

### 사용 방법
1. 미리보기 이미지 위에 마우스를 올리면 "클릭하여 전체 크기로 보기" 힌트가 표시됩니다
2. 미리보기를 클릭하면 뷰어 창이 열립니다
3. "창에 맞춤"을 토글하거나 확대/축소 컨트롤을 사용합니다
4. 확대된 상태에서 클릭하고 드래그하여 이동합니다
5. "보기" 버튼을 사용하여 원본 텍스처를 봅니다

### 키보드 컨트롤
- 확대/축소 슬라이더 또는 +/- 버튼을 사용하여 확대 수준을 조정합니다
- 자동 크기 조정을 위해 "창에 맞춤"을 토글합니다

## 제작

LuticaLab의 Texture Cocktail을 위해 개발됨
SKID-Project 에코시스템의 일부
